function myFunction(){var e=document.getElementById("mySelect").value;document.getElementById("quantity-sel").innerHTML="Quantity : "+e}function add_cart(e,t){var n=document.getElementById("colorSel").innerText,d=document.getElementById("size-sel").innerText,o=document.getElementById("mySelect").value;"cart"==t?""!=n&&""!=d&&!1===isNaN(o)&&$.ajax({url:"http://imodatest.jwisdom.com.tw/en/add_cart/"+t,type:"POST",dataType:"JSON",cache:"false",data:"id="+e+"&color="+n+"&size="+d+"&price="+price+"&num="+o,success:function(e){$("#pdt_count").load(location.href+" #pdt_count")},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}}):""!=n&&""!=d&&!0===isNaN(o)&&$.ajax({url:"http://imodatest.jwisdom.com.tw/en/add_cart/"+t,type:"POST",dataType:"JSON",cache:"false",data:"id="+e+"&color="+n+"&size="+d+"&price="+price+"&num="+o,success:function(e){$("#npdt_count").load(location.href+" #npdt_count")},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function npdt_pdt(t,n,d){""!=n&&""!=d&&$.ajax({url:"http://imodatest.jwisdom.com.tw/en/add_cart/cart",type:"POST",dataType:"JSON",cache:"false",data:"id="+t+"&color="+n+"&size="+d+"&num=1",success:function(e){$("#pdt_count").load(location.href+" #pdt_count"),delitem(t+n+d,"notification")},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function add_num(t,e){var n=Number(document.getElementById(t).value)+1;e<n?document.getElementById(t).value=Number(document.getElementById(t).value)-1:$.ajax({url:"/imoda/en/new_cart",type:"POST",dataType:"JSON",cache:"false",data:"key="+t+"&num="+n,success:function(e){$("#pdt_count").load(location.href+" #pdt_count"),$("#new_total").load(location.href+" #new_total"),document.getElementById(t).value=n,document.getElementById("total"+t).innerText=e.subtotal,document.getElementById("total").innerText="฿ "+e.total},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function del_num(t){var n=Number(document.getElementById(t).value)-1;0==n||$.ajax({url:"http://imodatest.jwisdom.com.tw/en/new_cart",type:"POST",dataType:"JSON",cache:"false",data:"key="+t+"&num="+n,success:function(e){$("#pdt_count").load(location.href+" #pdt_count"),$("#new_total").load(location.href+" #new_total"),document.getElementById(t).value=n,document.getElementById("total"+t).innerText=e.subtotal,document.getElementById("total").innerText="฿ "+e.total},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function discount_code(e){$.ajax({url:"http://imodatest.jwisdom.com.tw/en/discount_code",type:"POST",dataType:"JSON",cache:"false",data:"id="+e,success:function(e){var t=document.getElementById("old_total").value,n=document.getElementById("old_fare").value,d=document.getElementById("gold").value,o=document.getElementById("old_shopping_gold").value;if(0!=e.deduction){document.getElementById("old_discount_code").value=Math.round(.01*parseInt(e.deduction)*(parseInt(t)-parseInt(n)));var a=document.getElementById("old_discount_code").value;parseInt(d)+parseInt(a)+parseInt(o)>.2*(parseInt(t)-parseInt(n))?(document.getElementById("discount_code").innerText="Red envelope - ฿ 0",document.getElementById("old_discount_code").value=0,document.getElementById("discountcode").value="Select",document.getElementById("total").innerText="฿ "+String(parseInt(t)-parseInt(d)-parseInt(o))):(document.getElementById("discount_code").innerText="Red envelope - ฿ "+Math.round(.01*parseInt(e.deduction)*(parseInt(t)-parseInt(n))),document.getElementById("total").innerText="฿ "+String(parseInt(t)-Math.round(.01*parseInt(e.deduction)*(parseInt(t)-parseInt(n)))-parseInt(d)-parseInt(o)))}else{document.getElementById("old_discount_code").value=e.amount;a=document.getElementById("old_discount_code").value;parseInt(d)+parseInt(a)+parseInt(o)>.2*(parseInt(t)-parseInt(n))?(document.getElementById("discount_code").innerText="Red envelope - ฿ 0",document.getElementById("old_discount_code").value=0,document.getElementById("discountcode").value="Select",document.getElementById("total").innerText="฿ "+String(parseInt(t)-parseInt(d)-parseInt(o))):(document.getElementById("discount_code").innerText="Red envelope - ฿ "+e.amount,document.getElementById("total").innerText="฿ "+String(parseInt(t)-parseInt(e.amount)-parseInt(d)-parseInt(o)))}},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function feedback(e){var t=document.getElementById("old_total").value,n=document.getElementById("old_fare").value,d=document.getElementById("old_discount_code").value,o=document.getElementById("old_shopping_gold").value;parseInt(e)+parseInt(d)+parseInt(o)>.2*(parseInt(t)-parseInt(n))&&(document.getElementById("gold").value=.2*(parseInt(t)-parseInt(n))-parseInt(d)-parseInt(o)),document.getElementById("new_gold").innerText="ICoin - ฿ "+document.getElementById("gold").value,document.getElementById("total").innerText="฿ "+String(parseInt(t)-parseInt(d)-parseInt(document.getElementById("gold").value)-parseInt(o))}function shopping_gold(){var e=document.getElementById("old_total").value,t=document.getElementById("old_fare").value,n=document.getElementById("old_discount_code").value,d=document.getElementById("gold").value;document.getElementById("chk_shopping_gold").checked?document.getElementById("old_shopping_gold").value=document.getElementById("chk_shopping_gold").value:(document.getElementById("chk_shopping_gold").checked=!1,document.getElementById("old_shopping_gold").value=0);var o=document.getElementById("old_shopping_gold").value;parseInt(d)+parseInt(n)+parseInt(o)>.2*(parseInt(e)-parseInt(t))?(document.getElementById("chk_shopping_gold").checked=!1,document.getElementById("old_shopping_gold").value=0):(document.getElementById("coupon").innerText="Birthday Coupon - ฿ "+o,document.getElementById("total").innerText="฿ "+String(parseInt(e)-parseInt(n)-parseInt(o)-parseInt(d)))}function sch_discount_code(){var e=document.getElementById("discount_code_start").value,t=document.getElementById("discount_code_end").value;""!=e&&""!=t&&$.ajax({url:"http://imodatest.jwisdom.com.tw/en/member_sch/discount_code",type:"POST",dataType:"JSON",cache:"false",data:"start="+e+"&end="+t,success:function(e){var t="<tr><td>Project";t+="</td><td>Amount</td>",t+="<td>Deduction</td>",t+="<td>Activation date</td>",t+="<td>Effective date</td>",t+="<td>Status</td></tr>";for(var n=0;n<e.length;n++)t+="<tr><td>"+e[n].name+"</td>",t+="<td>"+e[n].amount+"</td>",t+="<td>"+e[n].deduction+"</td>",t+="<td>"+e[n].start_time+"</td>",t+="<td>"+e[n].end_time+"</td>",t+="<td>"+e[n].status+"</td></tr>";document.getElementById("discount_code_table").innerHTML=t},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function sch_order(){var e=document.getElementById("order_start").value,t=document.getElementById("order_end").value;""!=e&&""!=t&&$.ajax({url:"http://imodatest.jwisdom.com.tw/en/member_sch/order",type:"POST",dataType:"JSON",cache:"false",data:"start="+e+"&end="+t,success:function(e){var t="<tr><td>Order date</td>";t+="<td>Order number</td>",t+="<td>Recipient</td>",t+="<td>Amount</td>",t+="<td>Picking package number</td>",t+="<td>State description</td></tr>";for(var n=0;n<e.length;n++)t+="<tr><td>"+e[n].c_time+"</td>",t+='<td><a href="#" onclick="order_detail('+e[n].order_no+');" data-toggle="modal" data-target="#orderModal">'+e[n].order_no+"</a></td>",t+="<td>"+e[n].name+"</td>",t+="<td></td>",t+="<td>"+e[n].sum+"</td>",t+="<td>"+e[n].ship_status+"</td></tr>";document.getElementById("order_table").innerHTML=t},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function sch_feedback(){var e=document.getElementById("feedback_start").value,t=document.getElementById("feedback_end").value;""!=e&&""!=t&&$.ajax({url:"http://imodatest.jwisdom.com.tw/en/member_sch/feedback",type:"POST",dataType:"JSON",cache:"false",data:"start="+e+"&end="+t,success:function(e){var t="<tr><td>Acquisition/use record</td>";t+="<td>Effective date</td>",t+="<td>Deduction date</td>",t+='<td>Obtain<img src="/imoda/public/images/icoin.png" /></td></tr>';for(var n=0;n<e.length;n++)t+="<tr><td>"+e[n].order_no+"</td>",t+="<td>"+e[n].start_time+"</td>",t+="<td>"+e[n].end_time+"</td>",t+='<td><img src="/imoda/public/images/icoin.png" />'+e[n].gold+"</td></tr>";document.getElementById("feedback_table").innerHTML=t},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function add_order(){var e=document.getElementById("name").value,t=document.getElementById("tel").value,n=document.getElementById("address").value,d=document.getElementById("email").value,o=document.getElementById("discountcode").value,a=document.getElementById("gold").value;if(document.getElementById("chk_shopping_gold"))if(document.getElementById("chk_shopping_gold").checked)var c="1";else c="0";else c="0";for(var s=document.getElementsByName("pay"),r=0;r<s.length;r++)s[r].checked&&(s=s[r].value);if(""==e||""==t||""==n||""==d);else{var l="name="+e;l+="&tel="+t,l+="&address="+n,l+="&email="+d,l+="&discount_code="+o,l+="&feedback="+a,l+="&shopping_gold="+c,$.ajax({url:"http://imodatest.jwisdom.com.tw/en/add_order",type:"POST",dataType:"JSON",cache:"false",data:l,success:function(e){window.location.href=1==s?"/imoda/en/gold_stream/"+e.order:"/imoda/en/cart4"},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}}function order_detail(e){$.ajax({url:"http://imodatest.jwisdom.com.tw/en/order_detail",type:"POST",dataType:"JSON",cache:"false",data:"order_no="+e,success:function(e){var t="<tr><td>No.</td>";t+="<td>Product number</td>",t+="<td>Name of product</td>",t+="<td>Color</td>",t+="<td>Specification</td>",t+="<td>Quantity</td>",t+="<td>Unit price</td>",t+="<td>Discount price</td></tr>";for(var n=0;n<e.length;n++)t+="<tr><td>"+e[n].id+"</td>",t+="<td>"+e[n].id+"</td>",t+="<td>"+e[n].name+"</td>",t+="<td>"+e[n].color+"</td>",t+="<td>"+e[n].size+"</td>",t+="<td>"+e[n].num+"</td>",t+="<td>"+e[n].price+"</td>",t+="<td>"+e[n].total+"</td></tr>";document.getElementById("table_source1").innerHTML=t},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}}),$.ajax({url:"http://imodatest.jwisdom.com.tw/en/sch_order",type:"POST",dataType:"JSON",cache:"false",data:"order_no="+e,success:function(e){document.getElementById("total").innerHTML="฿ "+e.total,document.getElementById("fare").innerHTML="฿ "+e.fare,document.getElementById("all_total").innerHTML="฿ "+e.sum},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function searchbar(){$("#searchdiv").css("top","1px"),$("#searchdiv").css("transition","top .4s"),$("#searchdiv").css("display","block")}function hidesearch(){$("#searchdiv").css("top","-50px"),$("#searchdiv").css("transition","all .4s"),$("#searchdiv").css("display","none")}function delitem(e,t){$("#cartitem"+e).remove(),$.ajax({url:"http://imodatest.jwisdom.com.tw/en/del_cart/"+t,type:"POST",dataType:"JSON",cache:"false",data:"key="+e,success:function(e){if("cart"==t?($("#pdt_count").load(location.href+" #pdt_count"),document.getElementById("total").innerText="฿ "+e.total):$("#npdt_count").load(location.href+" #npdt_count"),0==e.pdt_count||0==e.npdt_count)return!(location.href="index")},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}function nextTab(e){$(e).next().find('a[data-toggle="tab"]').click()}function prevTab(e){$(e).prev().find('a[data-toggle="tab"]').click()}$(".testColBox").click(function(){$(this).parent(input).val()}),$(window).load(function(){var e=$(".bannerimg").height();$(".slider-content").css("height",e);var t=$(".gal a").width();$(".galtextbox").css("width",t+" !important");var n=$(".gal img").height();$(".gal a").css("height",n+" !important")}),$(function(){$(window).scroll(function(){$(document).scrollTop()<=0?($("#topBox").show(),$("#indexBox").css("position","relative"),$("#indexBox").css("background-color","#ffffff")):($("#topBox").hide(),$("#indexBox").css("position","fixed"),$("#indexBox").css("top","0px"),$("#indexBox").css("width","100%"),$("#indexBox").css("margin","0px"))}),$(".testColBox").click(function(){$("#colorSel").text(this.firstChild.value),$.ajax({url:"",type:"POST",dataType:"JSON",cache:"false",data:"color="+this.firstChild.value,success:function(e){},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}),$(".size").click(function(){$("#size-sel").text(this.firstChild.value),""!=document.getElementById("colorSel").innerText&&$.ajax({url:"",type:"POST",dataType:"JSON",cache:"false",data:"color="+document.getElementById("colorSel").innerText+"&size="+this.firstChild.value,success:function(e){if(document.getElementById("price").innerHTML=e.price,document.getElementById("member_price").innerHTML=parseInt(e.price)*parseFloat(e.discount),document.getElementById("mySelect").innerHTML="",0!=e.stock){for(var t=1;t<=e.stock;t++)document.getElementById("mySelect").innerHTML+='<option value="'+t+'">'+t+"</option>";document.getElementById("cart").style.display="",document.getElementById("notification").style.display="none"}else document.getElementById("mySelect").innerHTML+="<option >zero inventory</option>",document.getElementById("cart").style.display="none",document.getElementById("notification").style.display=""},error:function(e,t,n){$("body").append(e.status),$("body").append(e.responseText),alert(n)}})}),$(".scrolltotop").on("click",function(){return $("html, body").animate({scrollTop:0},500),!1}),$(document).scroll(function(){300<$(this).scrollTop()?$(".scrolltotop").fadeIn():$(".scrolltotop").fadeOut()})}),$(function(){var e=$("[data-toggle=collapse-side]"),t=e.attr("data-target-sidebar"),n=e.attr("data-target-content");e.click(function(e){$(t).toggleClass("in"),$(n).toggleClass("out")});var d=$("[data-toggle=menu]");t=e.attr("data-target-sidebar"),n=e.attr("data-target-content");d.click(function(e){$(t).toggleClass("in"),$(n).toggleClass("out")})}),$(function(){$(".menuiconbar").click(function(){$("nav#mnav").mmenu(),$("#closemenu").css("display","block"),$(".menuiconbar").css("display","none")}),$("#closemenu").click(function(){$("nav#mnav").data("mmenu").close(),$("#closemenu").css("display","none"),$(".menuiconbar").css("display","block")})}),$(function(){$("#facebookicon").on({mouseenter:function(){$(this).attr("src","../public/images/fb.png")},mouseleave:function(){$(this).attr("src","../public/images/fb-white.png")}}),$("#instagramicon").on({mouseenter:function(){$(this).attr("src","../public/images/instagram.png")},mouseleave:function(){$(this).attr("src","../public/images/instagram-white.png")}}),$("#messengericon").on({mouseenter:function(){$(this).attr("src","../public/images/messenger.png")},mouseleave:function(){$(this).attr("src","../public/images/messenger-white.png")}})}),$(document).ready(function(){$(".carousel-correspondence .item").each(function(){for(var e=$(this),t=1;t<6;t++)(e=e.next()).length||(e=$(this).siblings(":first")),e.children(":first-child").clone().addClass("cloneditem-"+t).appendTo($(this))})}),$(document).on("click",".number-spinner button",function(){var e=$(this),t=e.closest(".number-spinner").find("input").val().trim(),n=0;n="up"==e.attr("data-dir")?parseInt(t)+1:1<t?parseInt(t)-1:1,e.closest(".number-spinner").find("input").val(n)}),$(document).ready(function(){$(".nav-tabs > li a[title]").tooltip(),$('a[data-toggle="tab"]').on("show.bs.tab",function(e){if($(e.target).parent().hasClass("disabled"))return!1}),$(".next-step").click(function(e){var t=$(".wizard .nav-tabs li.active");t.next().removeClass("disabled"),nextTab(t)}),$(".prev-step").click(function(e){prevTab($(".wizard .nav-tabs li.active"))})}),$(document).ready(function(){$(".accordion-header").toggleClass("inactive-header");$(".accordion-header").width();return $(".accordion-content").css({}),$(".accordion-header").first().toggleClass("active-header").toggleClass("inactive-header"),$(".accordion-content").first().slideDown().toggleClass("open-content"),$(".accordion-header").click(function(){$(this).is(".inactive-header")&&$(".active-header").toggleClass("active-header").toggleClass("inactive-header").next().slideToggle().toggleClass("open-content"),$(this).toggleClass("active-header").toggleClass("inactive-header"),$(this).next().slideToggle().toggleClass("open-content")}),!1}),$(document).ready(function(){$(".member_level tr td").hasClass("active")&&$(".member_level tr .active").append("<img src='../public/images/crown.png' />"),$(".nav-tabs a").click(function(){$(".tab-content").animate({scrollTop:0},600)})}),$(function(){var e=$(".tabs li");e.click(function(){e.removeClass("active"),$(this).addClass("active")})}),$(function(){$("#modal").modal("toggle")});